{
    "openapi": "3.0.1",
    "info": {
        "title": "Beckn Final Mile Delivery API",
        "description": "API Spec for Final Mile Delivery.",
        "version": "0.8.1"
    },
    "security": [
        {
            "bearerAuth": []
        }
    ],
    "paths": {
        "/search": {
            "post": {
                "tags": [
                    "Beckn Provider Platform API",
                    "Beckn Gateway API"
                ],
                "description": "Search by intent",
                "requestBody": {
                    "description": "BAP searches for FMD Services",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "properties": {
                                            "intent": {
                                                "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/7260a898c137945c6248ed27bfe86c373b147951/final-mile-delivery/v0/schema/fmd_intent.json"
                                            }
                                        }
                                    }
                                },
                                "required": [
                                    "context",
                                    "message"
                                ]
                            },
                            "examples": {
                                "On Demand Delivery": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "search",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-18 15:22:31+05:30"
                                        },
                                        "message": {
                                            "intent": {
                                                "pickups": [
                                                    {
                                                        "location": {
                                                            "gps": {
                                                                "lat": "22.346343",
                                                                "lon": "77.823879"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "drops": [
                                                    {
                                                        "location": {
                                                            "gps": {
                                                                "lat": "22.346343",
                                                                "lon": "77.823879"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "packages": [
                                                    {
                                                        "contents": [
                                                            {
                                                                "category_id": "12"
                                                            },
                                                            {
                                                                "category_id": "10"
                                                            }
                                                        ],
                                                        "weight": {
                                                            "estimated_value": "1",
                                                            "unit": "kg"
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                },
                                "Scheduled Delivery": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "search",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-18 15:22:31+05:30"
                                        },
                                        "message": {
                                            "intent": {
                                                "pickups": [
                                                    {
                                                        "location": {
                                                            "type": "gps",
                                                            "gps": {
                                                                "lat": "22.346343",
                                                                "lon": "77.823879"
                                                            }
                                                        },
                                                        "time": "2020-08-18 15:22:31+05:30"
                                                    }
                                                ],
                                                "drops": [
                                                    {
                                                        "location": {
                                                            "type": "gps",
                                                            "gps": {
                                                                "lat": "22.346343",
                                                                "lon": "77.823879"
                                                            }
                                                        },
                                                        "time": "2020-08-18 15:22:31+05:30"
                                                    }
                                                ],
                                                "packages": [
                                                    {
                                                        "contents": [
                                                            {
                                                                "category_id": "12"
                                                            },
                                                            {
                                                                "category_id": "10"
                                                            }
                                                        ],
                                                        "weight": {
                                                            "estimated_value": "1",
                                                            "unit": "kg"
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                },
                                "examples": {
                                    "Success": {
                                        "value": {
                                            "context": {
                                                "domain": "FINAL-MILE-DELIVERY",
                                                "country": "IND",
                                                "city": "BLR",
                                                "action": "ack",
                                                "core_version": "0.8.0",
                                                "domain_version": "0.8.1",
                                                "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                                "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                                "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                                "timestamp": "2020-08-18 15:22:31+05:30"
                                            },
                                            "message": {
                                                "ack": {
                                                    "status": "ACK"
                                                }
                                            }
                                        }
                                    },
                                    "Invalid Action": {
                                        "value": {
                                            "context": {
                                                "domain": "FINAL-MILE-DELIVERY",
                                                "country": "IND",
                                                "city": "BLR",
                                                "action": "nack",
                                                "core_version": "0.8.0",
                                                "domain_version": "0.8.1",
                                                "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                                "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                                "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                                "timestamp": "2020-08-18 15:22:31+05:30"
                                            },
                                            "message": {
                                                "ack": {
                                                    "status": "NACK"
                                                }
                                            },
                                            "error": {
                                                "type": "CONTEXT-ERROR",
                                                "code" : "CORE014",
                                                "message" : "Invalid Action"
                                            }
                                        }
                                    },
                                    "Invalid Domain": {
                                        "value": {
                                            "context": {
                                                "domain": "FINAL-MILE-DELIVERY",
                                                "country": "IND",
                                                "city": "BLR",
                                                "action": "nack",
                                                "core_version": "0.8.0",
                                                "domain_version": "0.8.1",
                                                "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                                "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                                "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                                "timestamp": "2020-08-18 15:22:31+05:30"
                                            },
                                            "message": {
                                                "ack": {
                                                    "status": "NACK"
                                                }
                                            },
                                            "error": {
                                                "type": "CONTEXT-ERROR",
                                                "code" : "CORE015",
                                                "message" : "Invalid Domain"
                                            }
                                        }
                                    },
                                    "Invalid BAP": {
                                        "value": {
                                            "context": {
                                                "domain": "FINAL-MILE-DELIVERY",
                                                "country": "IND",
                                                "city": "BLR",
                                                "action": "nack",
                                                "core_version": "0.8.0",
                                                "domain_version": "0.8.1",
                                                "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                                "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                                "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                                "timestamp": "2020-08-18 15:22:31+05:30"
                                            },
                                            "message": {
                                                "ack": {
                                                    "status": "NACK"
                                                }
                                            },
                                            "error": {
                                                "type": "CONTEXT-ERROR",
                                                "code" : "CORE018",
                                                "message" : "Invalid BAP"
                                            }
                                        }
                                    },
                                    "Invalid BPP": {
                                        "value": {
                                            "context": {
                                                "domain": "FINAL-MILE-DELIVERY",
                                                "country": "IND",
                                                "city": "BLR",
                                                "action": "nack",
                                                "core_version": "0.8.0",
                                                "domain_version": "0.8.1",
                                                "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                                "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                                "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                                "timestamp": "2020-08-18 15:22:31+05:30"
                                            },
                                            "message": {
                                                "ack": {
                                                    "status": "NACK"
                                                }
                                            },
                                            "error": {
                                                "type": "CONTEXT-ERROR",
                                                "code" : "CORE018",
                                                "message" : "Invalid BPP"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/select": {
            "post": {
                "tags": [
                    "Beckn Provider Platform API"
                ],
                "description": "Select the service and build order. This can be called multiple times. The on_select callback sends an updated quotation everytime the order is updated.",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "properties": {
                                            "order": {
                                                "description": "This is the draft order object containing details of task being carried out like pickup location, drop location and pacakge details",
                                                "allOf": [
                                                    {
                                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/83006c82ae1f7069f6b609211245e651d21d90ab/final-mile-delivery/v0/schema/fmd_order.json"
                                                    },
                                                    {
                                                        "properties": {
                                                            "items": {
                                                                "type": "array",
                                                                "items": {
                                                                    "allOf": [
                                                                        {
                                                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/item.json"
                                                                        },
                                                                        {
                                                                            "required": [
                                                                                "id"
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            "tasks": {
                                                                "type": "array",
                                                                "items": {
                                                                    "allOf": [
                                                                        {
                                                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/83006c82ae1f7069f6b609211245e651d21d90ab/final-mile-delivery/v0/schema/fmd_task.json"
                                                                        },
                                                                        {
                                                                            "properties": {
                                                                                "pickup": {
                                                                                    "allOf": [
                                                                                        {
                                                                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/83006c82ae1f7069f6b609211245e651d21d90ab/final-mile-delivery/v0/schema/fmd_task.json#/properties/pickup"
                                                                                        },
                                                                                        {
                                                                                            "required": [
                                                                                                "location",
                                                                                                "poc"
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                "drop": {
                                                                                    "allOf": [
                                                                                        {
                                                                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/83006c82ae1f7069f6b609211245e651d21d90ab/final-mile-delivery/v0/schema/fmd_task.json#/properties/drop"
                                                                                        },
                                                                                        {
                                                                                            "required": [
                                                                                                "location",
                                                                                                "poc"
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            },
                                                                            "required": [
                                                                                "item_id",
                                                                                "pickup",
                                                                                "drop",
                                                                                "package"
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            "packages": {
                                                                "type": "array",
                                                                "items": {
                                                                    "allOf": [
                                                                        {
                                                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/83006c82ae1f7069f6b609211245e651d21d90ab/final-mile-delivery/v0/schema/fmd_package.json"
                                                                        },
                                                                        {
                                                                            "required": [
                                                                                "contents"
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "required": [
                                                            "items",
                                                            "tasks"
                                                        ]
                                                    }
                                                ]
                                            }
                                        },
                                        "required": [
                                            "order"
                                        ]
                                    }
                                },
                                "required": [
                                    "context",
                                    "message"
                                ]
                            },
                            "examples": {
                                "Simple Order": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "select",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "order": {
                                                "id": "",
                                                "items": [
                                                    {
                                                        "id": "1234-5678-12-34-56"
                                                    }
                                                ],
                                                "tasks": [
                                                    {
                                                        "id": "98298323-203982-02309",
                                                        "item_id": "1234-5678-12-34-56",
                                                        "pickup": {
                                                            "location": {
                                                                "address": {
                                                                    "door": "2244",
                                                                    "name": "Croma",
                                                                    "building": "string",
                                                                    "street": "5th Main",
                                                                    "locality": "HSR Layout",
                                                                    "city": "Bengaluru",
                                                                    "state": "Karnataka",
                                                                    "country": "India",
                                                                    "area_code": "560102"
                                                                },
                                                                "gps": {
                                                                    "lat": "22.987987",
                                                                    "lon": "77.232323"
                                                                }
                                                            },
                                                            "instructions": [
                                                                "Please handle with care"
                                                            ]
                                                        },
                                                        "drop": {
                                                            "location": {
                                                                "address": {
                                                                    "door": "BB1703",
                                                                    "name": "Salarpuria Greenage",
                                                                    "building": "Birch B Block",
                                                                    "street": "Hosur Road",
                                                                    "locality": "HSR Layout",
                                                                    "city": "Bengaluru",
                                                                    "state": "Karnataka",
                                                                    "country": "India",
                                                                    "area_code": "560068"
                                                                },
                                                                "gps": {
                                                                    "lat": "22.987987",
                                                                    "lon": "77.232323"
                                                                }
                                                            },
                                                            "instructions": [
                                                                "Please don't ring doorbell",
                                                                "Leave package at door"
                                                            ]
                                                        },
                                                        "package": {
                                                            "contents": [
                                                                {
                                                                    "category_id": "12",
                                                                    "descriptor": {
                                                                        "name": "Soap"
                                                                    }
                                                                },
                                                                {
                                                                    "category_id": "10",
                                                                    "descriptor": {
                                                                        "name": "Potato"
                                                                    }
                                                                }
                                                            ],
                                                            "weight": {
                                                                "estimated_value": "1",
                                                                "unit": "kg"
                                                            }
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                },
                                "Return Order": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "select",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "order": {
                                                "id": "",
                                                "items": [
                                                    {
                                                        "id": "1234-5678-12-34-56"
                                                    }
                                                ],
                                                "prev_order_id" : "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                                "type" : "RETURN",
                                                "tasks": [
                                                    {
                                                        "id": "98298323-203982-02309",
                                                        "item_id": "1234-5678-12-34-56",
                                                        "pickup": {
                                                            "location": {
                                                                "address": {
                                                                    "door": "2244",
                                                                    "name": "Croma",
                                                                    "building": "string",
                                                                    "street": "5th Main",
                                                                    "locality": "HSR Layout",
                                                                    "city": "Bengaluru",
                                                                    "state": "Karnataka",
                                                                    "country": "India",
                                                                    "area_code": "560102"
                                                                },
                                                                "gps": {
                                                                    "lat": "22.987987",
                                                                    "lon": "77.232323"
                                                                }
                                                            },
                                                            "instructions": [
                                                                "Please handle with care"
                                                            ]
                                                        },
                                                        "drop": {
                                                            "location": {
                                                                "address": {
                                                                    "door": "BB1703",
                                                                    "name": "Salarpuria Greenage",
                                                                    "building": "Birch B Block",
                                                                    "street": "Hosur Road",
                                                                    "locality": "HSR Layout",
                                                                    "city": "Bengaluru",
                                                                    "state": "Karnataka",
                                                                    "country": "India",
                                                                    "area_code": "560068"
                                                                },
                                                                "gps": {
                                                                    "lat": "22.987987",
                                                                    "lon": "77.232323"
                                                                }
                                                            },
                                                            "instructions": [
                                                                "Please don't ring doorbell",
                                                                "Leave package at door"
                                                            ]
                                                        },
                                                        "package": {
                                                            "contents": [
                                                                {
                                                                    "category_id": "12",
                                                                    "descriptor": {
                                                                        "name": "Soap"
                                                                    }
                                                                },
                                                                {
                                                                    "category_id": "10",
                                                                    "descriptor": {
                                                                        "name": "Potato"
                                                                    }
                                                                }
                                                            ],
                                                            "weight": {
                                                                "estimated_value": "1",
                                                                "unit": "kg"
                                                            }
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/init": {
            "post": {
                "tags": [
                    "Beckn Provider Platform API"
                ],
                "description": "Initialize an Order. At this stage the BAP should send an updated order object with billing and fulfillment details if necessary",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "properties": {
                                            "order": {
                                                "allOf": [
                                                    {
                                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/7260a898c137945c6248ed27bfe86c373b147951/final-mile-delivery/v0/schema/fmd_order.json"
                                                    },
                                                    {
                                                        
                                                        "required": [
                                                            "quotation",
                                                            "billing"
                                                        ]
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                },
                                "required": [
                                    "context",
                                    "message"
                                ]
                            },
                            "examples": {
                                "Order with Billing Details": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "init",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "order": {
                                                "billing": {
                                                    "customer": {
                                                        "organisation_name": "Peppo",
                                                        "email": "billing@peppo.co.in",
                                                        "phones": [
                                                            "+919667288826"
                                                        ]
                                                    },
                                                    "address": {
                                                        "door": "BB1703",
                                                        "building": "No 7",
                                                        "street": "Hosur Road",
                                                        "locality": "HSR Layout",
                                                        "city": "Bengaluru",
                                                        "state": "Karnataka",
                                                        "country": "India",
                                                        "area_code": "560068",
                                                        "landmark": "Near oxford college"
                                                    },
                                                    "quotation" : {
                                                        "id" : "136551c9-d543-4373-a900-1a56390f6803"
                                                    },
                                                    "tax_number": "SERDV2345T"
                                                }
                                            }
                                        }
                                    }
                                },
                                "Return Order with Payment": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "init",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "order": {
                                                "prev_order_id" : "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                                "type" : "RETURN",
                                                "billing": {
                                                    "customer": {
                                                        "organisation_name": "Peppo",
                                                        "email": "billing@peppo.co.in",
                                                        "phones": [
                                                            "+919667288826"
                                                        ]
                                                    },
                                                    "address": {
                                                        "door": "BB1703",
                                                        "building": "No 7",
                                                        "street": "Hosur Road",
                                                        "locality": "HSR Layout",
                                                        "city": "Bengaluru",
                                                        "state": "Karnataka",
                                                        "country": "India",
                                                        "area_code": "560068",
                                                        "landmark": "Near oxford college"
                                                    },
                                                    "tax_number": "SERDV2345T"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/confirm": {
            "post": {
                "tags": [
                    "Beckn Provider Platform API"
                ],
                "description": "Checkout from an FMD service. Using this action, the FMD Payer should be able to send proof of payment to the FMD service",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "properties": {
                                            "order": {
                                                "allOf": [
                                                    {
                                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/order.json"
                                                    },
                                                    {
                                                        "properties": {
                                                            "payment": {
                                                                "allOf": [
                                                                    {
                                                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/payment.json"
                                                                    },
                                                                    {
                                                                        "required": [
                                                                            "transaction_id"
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        "required": [
                                                            "id",
                                                            "payment"
                                                        ]
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                },
                                "required": [
                                    "context",
                                    "message"
                                ]
                            },
                            "example": {
                                "context": {
                                    "domain": "FINAL-MILE-DELIVERY",
                                    "country": "IND",
                                    "city": "BLR",
                                    "action": "confirm",
                                    "core_version": "0.8.0",
                                    "domain_version": "0.8.1",
                                    "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                    "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                    "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                    "timestamp": "2020-08-19 14:54:19+05:30"
                                },
                                "message": {
                                    "order" : {
                                        "id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                        "prev_order_id" : "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                        "type" : "RETURN",
                                        "return_reason_id" : "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                        "quotation" : {
                                            "id" : "16e9bc5a-d25e-4379-95e4-262633f8e7f4"
                                        },
                                        "payment": {
                                            "transaction_id": "iuy834u938u938",
                                            "amount": {
                                                "value": {
                                                    "integral": "28"
                                                },
                                                "currency": "INR"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/status": {
            "post": {
                "tags": [
                    "Beckn Provider Platform API"
                ],
                "description": "Fetch the status of an FMD Service",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "properties": {
                                            "order_id": {
                                                "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/order.json#/properties/id"
                                            }
                                        },
                                        "required": [
                                            "order_id"
                                        ]
                                    }
                                },
                                "required": [
                                    "context",
                                    "message"
                                ]
                            },
                            "example": {
                                "context": {
                                    "domain": "FINAL-MILE-DELIVERY",
                                    "country": "IND",
                                    "city": "BLR",
                                    "action": "status",
                                    "core_version": "0.8.0",
                                    "domain_version": "0.8.1",
                                    "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                    "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                    "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                    "timestamp": "2020-08-19 14:54:19+05:30"
                                },
                                "message": {
                                    "order_id": "12224408"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/update": {
            "post": {
                "tags": [
                    "Beckn Provider Platform API"
                ],
                "description": "Remove object",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "properties": {
                                            "update_action": {
                                                "type": "string",
                                                "enum": [
                                                    "update_pickup_location",
                                                    "update_pickup_poc",
                                                    "update_pickup_instructions",
                                                    "update_drop_location",
                                                    "update_drop_poc",
                                                    "update_drop_instructions",
                                                    "update_package",
                                                    "update_billing"
                                                ]
                                            },
                                            "order": {
                                                "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/order.json"
                                            }
                                        }
                                    }
                                },
                                "required": [
                                    "context",
                                    "message"
                                ]
                            },
                            "examples": {
                                "Update pickup location": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "update",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "update_action": "update_pickup_location",
                                            "order": {
                                                "tasks": [
                                                    {
                                                        "id": "bGciOiJIUzI",
                                                        "pickup": {
                                                            "location": {
                                                                "address": {
                                                                    "door": "EB1703",
                                                                    "building": "No 7",
                                                                    "street": "Hosur Road",
                                                                    "locality": "HSR Layout, Sector 2",
                                                                    "city": "Bengaluru",
                                                                    "state": "Karnataka",
                                                                    "country": "India",
                                                                    "area_code": "560068",
                                                                    "landmark": "Near oxford college"
                                                                }
                                                            }
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                },
                                "Update drop location": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "update",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "update_action": "update_drop_location",
                                            "order": {
                                                "tasks": [
                                                    {
                                                        "id": "bGciOiJIUzI",
                                                        "drop": {
                                                            "location": {
                                                                "address": {
                                                                    "door": "EB1703",
                                                                    "building": "No 7",
                                                                    "street": "Hosur Road",
                                                                    "locality": "HSR Layout, Sector 2",
                                                                    "city": "Bengaluru",
                                                                    "state": "Karnataka",
                                                                    "country": "India",
                                                                    "area_code": "560068",
                                                                    "landmark": "Near oxford college"
                                                                }
                                                            }
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/track": {
            "post": {
                "tags": [
                    "Beckn Provider Platform API"
                ],
                "description": "Track an item during an active service",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "properties": {
                                            "order_id": {
                                                "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/order.json#/properties/id"
                                            },
                                            "callback_url": {
                                                "type": "string",
                                                "format": "uri"
                                            }
                                        },
                                        "required": [
                                            "order_id",
                                            "callback_url"
                                        ]
                                    }
                                },
                                "required": [
                                    "context",
                                    "message"
                                ]
                            },
                            "examples": {
                                "Track Order - Pull": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "update",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "order_id" : "136551c9-d543-4373-a900-1a56390f6803"
                                        }
                                    }
                                },
                                "Track Order - Push": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "update",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "order_id": "136551c9-d543-4373-a900-1a56390f6803",
                                            "callback_url": "ws://bap.example.com/order/136551c9-d543-4373-a900-1a56390f6803/track:4000"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/cancel": {
            "post": {
                "tags": [
                    "Beckn Provider Platform API"
                ],
                "description": "Cancel an Order",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "properties": {
                                            "order" : {
                                                "type" : "object",
                                                "properties" : {
                                                    "id" : {
                                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/order.json#/properties/id"
                                                    },
                                                    "cancellation_reason_id" : {
                                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/option.json#/properties/id"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "required": [
                                    "context",
                                    "message"
                                ]
                            },
                            "examples": {
                                "Cancel order with reason": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "cancel",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "order" : {
                                                "id" : "136551c9-d543-4373-a900-1a56390f6803",
                                                "cancellation_reason_id" : "0481"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/on_search": {
            "post": {
                "tags": [
                    "Beckn App Platform API",
                    "Beckn Gateway API"
                ],
                "description": "Callback response to search",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "properties": {
                                            "catalog": {
                                                "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/7260a898c137945c6248ed27bfe86c373b147951/final-mile-delivery/v0/schema/fmd_catalog.json"
                                            }
                                        }
                                    },
                                    "error": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                    }
                                }
                            },
                            "examples": {
                                "Single Pickup Single Drop Service": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "on_search",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "catalog": {
                                                "id": "e63f7247-7bf6-4321-9b0e-640e4e5cdf5f",
                                                "categories": [
                                                    {
                                                        "id": "1",
                                                        "parent_category_id": "",
                                                        "descriptor": {
                                                            "name": "SINGLE-PICKUP-SINGLE-DROP",
                                                            "images": [
                                                                {
                                                                    "type": "url",
                                                                    "url": "https://category1.image.png"
                                                                }
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "brands": [
                                                    {
                                                        "id": "1",
                                                        "descriptor": {
                                                            "name": "Dunzo"
                                                        }
                                                    },
                                                    {
                                                        "id": "2",
                                                        "descriptor": {
                                                            "name": "Shadowfax"
                                                        }
                                                    }
                                                ],
                                                "items": [
                                                    {
                                                        "id": "1",
                                                        "parent_item_id": "",
                                                        "brand_id": "1",
                                                        "descriptor": {
                                                            "id": "1",
                                                            "category_id": "1",
                                                            "name": "Standard",
                                                            "short_desc": "Standard Delivery"
                                                        },
                                                        "price": {
                                                            "currency": "INR",
                                                            "offered_value": {
                                                                "integral": "28"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "id": "2",
                                                        "category_id": "1",
                                                        "parent_item_id": "",
                                                        "brand_id": "2",
                                                        "descriptor": {
                                                            "id": "1",
                                                            "name": "Assured",
                                                            "short_desc": "Assured Delivery"
                                                        },
                                                        "price": {
                                                            "currency": "INR",
                                                            "offered_value": {
                                                                "integral": "48"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "offers": [
                                                    {
                                                        "id": "1",
                                                        "item_id": "1",
                                                        "descriptor": {
                                                            "name": "First Time User",
                                                            "code": "FIRST",
                                                            "short_desc": "15% off for first time users"
                                                        },
                                                        "start_time": "2020-07-01 00:00:00",
                                                        "end_time": "2020-07-31 00:00:00"
                                                    }
                                                ],
                                                "package_categories": [
                                                    {
                                                        "id": "1",
                                                        "descriptor": {
                                                            "name": "Food"
                                                        }
                                                    },
                                                    {
                                                        "id": "2",
                                                        "descriptor": {
                                                            "name": "Grocery"
                                                        }
                                                    },
                                                    {
                                                        "id": "2",
                                                        "descriptor": {
                                                            "name": "Electroincs"
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/on_search/end": {
            "post": {
                "tags": [
                    "Beckn App Platform API"
                ],
                "description": "End of search results",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/on_select": {
            "post": {
                "tags": [
                    "Beckn App Platform API"
                ],
                "description": "Callback response to select/service",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "properties": {
                                            "order": {
                                                "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/7260a898c137945c6248ed27bfe86c373b147951/final-mile-delivery/v0/schema/fmd_order.json"
                                            }
                                        }
                                    },
                                    "error": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                    }
                                }
                            },
                            "example": {
                                "context": {
                                    "domain": "FINAL-MILE-DELIVERY",
                                    "country": "IND",
                                    "city": "BLR",
                                    "action": "on_select",
                                    "core_version": "0.8.0",
                                    "domain_version": "0.8.1",
                                    "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                    "ac_nw_address": "",
                                    "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                    "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                    "timestamp": "2020-08-19 14:54:19+05:30"
                                },
                                "message": {
                                    "order": {
                                        "id": "",
                                        "items": [
                                            {
                                                "id": "d02-6ba0-458e",
                                                "quantity": {
                                                    "available": 1,
                                                    "selected": 1
                                                }
                                            }
                                        ],
                                        "quotation": {
                                            "id": "53248d02-6ba0-458e-8bd3-01e3a89e1f88",
                                            "price": {
                                                "currency": "INR",
                                                "estimated_value": {
                                                    "integral": "28"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/on_init": {
            "post": {
                "tags": [
                    "Beckn App Platform API"
                ],
                "description": "Callback response to confirm/service",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "properties": {
                                            "order": {
                                                "allOf": [
                                                    {
                                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/7260a898c137945c6248ed27bfe86c373b147951/final-mile-delivery/v0/schema/fmd_order.json"
                                                    },
                                                    {
                                                        "required": [
                                                            "id",
                                                            "payment"
                                                        ]
                                                    }
                                                ]
                                            }
                                        }
                                    },
                                    "error": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                    }
                                }
                            },
                            "examples": {
                                "Send payment options": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "on_init",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "order": {
                                                "id": "23432442",
                                                "tasks": [
                                                    {
                                                        "id": "98298323-203982-02309",
                                                        "item_id": "1234-5678-12-34-56",
                                                        "pickup": {
                                                            "location": {
                                                                "address": {
                                                                    "door": "2244",
                                                                    "name": "Croma",
                                                                    "building": "string",
                                                                    "street": "5th Main",
                                                                    "locality": "HSR Layout",
                                                                    "ward": "",
                                                                    "city": "Bengaluru",
                                                                    "state": "Karnataka",
                                                                    "country": "India",
                                                                    "area_code": "560102"
                                                                },
                                                                "gps": {
                                                                    "lat": "22.987987",
                                                                    "lon": "77.232323"
                                                                }
                                                            },
                                                            "instructions": [
                                                                "Please handle with care"
                                                            ]
                                                        },
                                                        "drop": {
                                                            "location": {
                                                                "address": {
                                                                    "door": "BB1703",
                                                                    "name": "Salarpuria Greenage",
                                                                    "building": "Birch B Block",
                                                                    "street": "Hosur Road",
                                                                    "locality": "HSR Layout",
                                                                    "ward": "",
                                                                    "city": "Bengaluru",
                                                                    "state": "Karnataka",
                                                                    "country": "India",
                                                                    "area_code": "560068"
                                                                },
                                                                "gps": {
                                                                    "lat": "22.987987",
                                                                    "lon": "77.232323"
                                                                }
                                                            },
                                                            "instructions": [
                                                                "Please don't ring doorbell",
                                                                "Leave package at door"
                                                            ]
                                                        },
                                                        "package": {
                                                            "contents": [
                                                                {
                                                                    "category_id": "12",
                                                                    "descriptor": {
                                                                        "name": "Soap"
                                                                    }
                                                                },
                                                                {
                                                                    "category_id": "10",
                                                                    "descriptor": {
                                                                        "name": "Potatoes"
                                                                    }
                                                                }
                                                            ],
                                                            "weight": {
                                                                "estimated_value": "1",
                                                                "unit": "kg"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "payment": {
                                                    "payee": {
                                                        "person": {
                                                            "name": {
                                                                "given_name": "John Doe"
                                                            }
                                                        },
                                                        "endpoint": {
                                                            "type": "bank_account",
                                                            "bank_account": {
                                                                "account_number": "10818675234",
                                                                "account_holder_name": "John Doe",
                                                                "ifsc_code": "SBIN000414"
                                                            }
                                                        }
                                                    },
                                                    "amount": {
                                                        "currency": "INR",
                                                        "value": {
                                                            "integral": "28"
                                                        }
                                                    },
                                                    "state": {
                                                        "descriptor" : {
                                                            "code" : "PAYMENT-PENDING"
                                                        }
                                                    },
                                                    "terms": {
                                                        "credit_type": "POSTPAID",
                                                        "settlement_type": "BULK",
                                                        "credit_duration": "30D",
                                                        "mode": "RTGS",
                                                        "method": "ELECTRONIC",
                                                        "penalty_terms": [
                                                            "Delay in payment after due date will incur 10 INR per day of non-payment"
                                                        ]
                                                    }
                                                },
                                                "created_at": "2020-07-16 17:30:00",
                                                "updated_at": "2020-07-16 17:30:00"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/on_confirm": {
            "post": {
                "tags": [
                    "Beckn App Platform API"
                ],
                "description": "Acknowledge the checkout of a service and send invoice of the FMD service",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "properties": {
                                            "order": {
                                                "allOf": [
                                                    {
                                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/7260a898c137945c6248ed27bfe86c373b147951/final-mile-delivery/v0/schema/fmd_order.json"
                                                    },
                                                    {
                                                        "properties": {
                                                            "tasks": {
                                                                "allOf": [
                                                                    {
                                                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/7260a898c137945c6248ed27bfe86c373b147951/final-mile-delivery/v0/schema/fmd_task.json"
                                                                    },
                                                                    {
                                                                        "properties": {
                                                                            "location": {
                                                                                "allOf": [
                                                                                    {
                                                                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/location.json"
                                                                                    },
                                                                                    {
                                                                                        "required": [
                                                                                            "address",
                                                                                            "gps"
                                                                                        ]
                                                                                    }
                                                                                ]
                                                                            },
                                                                            "agent": {
                                                                                "allOf": [
                                                                                    {
                                                                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/7260a898c137945c6248ed27bfe86c373b147951/final-mile-delivery/v0/schema/fmd_agent.json"
                                                                                    },
                                                                                    {
                                                                                        "required": [
                                                                                            "name",
                                                                                            "phones"
                                                                                        ]
                                                                                    }
                                                                                ]
                                                                            }
                                                                        },
                                                                        "required": [
                                                                            "pickup",
                                                                            "drop",
                                                                            "package",
                                                                            "state",
                                                                            "agent"
                                                                        ]
                                                                    }
                                                                ]
                                                            },
                                                            "payment": {
                                                                "allOf": [
                                                                    {
                                                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/payment.json"
                                                                    },
                                                                    {
                                                                        "required": [
                                                                            "payee",
                                                                            "terms"
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        "required": [
                                                            "id",
                                                            "tasks",
                                                            "payment"
                                                        ]
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                }
                            },
                            "examples": {
                                "Confirmed Order with Delivery Agent Assigned": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "on_confirm",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "order": {
                                                "id": "ba0b9fdc-32a2-401b-bbb6-c25076babe63",
                                                "items": [
                                                    {
                                                        "id": "1234-5678-12-34-56"
                                                    }
                                                ],
                                                "tasks": [
                                                    {
                                                        "id": "98298323-203982-02309",
                                                        "item_id": "1234-5678-12-34-56",
                                                        "pickup": {
                                                            "location": {
                                                                "address": {
                                                                    "door": "2244",
                                                                    "name": "Croma",
                                                                    "building": "string",
                                                                    "street": "5th Main",
                                                                    "locality": "HSR Layout",
                                                                    "ward": "",
                                                                    "city": "Bengaluru",
                                                                    "state": "Karnataka",
                                                                    "country": "India",
                                                                    "area_code": "560102"
                                                                },
                                                                "gps": {
                                                                    "lat": "22.987987",
                                                                    "lon": "77.232323"
                                                                }
                                                            },
                                                            "instructions": [
                                                                "Please handle with care"
                                                            ],
                                                            "poc": {
                                                                "name": {
                                                                    "given_name": "John"
                                                                },
                                                                "contact": {
                                                                    "mobile": {
                                                                        "country_code": "+91",
                                                                        "number": "9876543210"
                                                                    }
                                                                }
                                                            }
                                                        },
                                                        "drop": {
                                                            "location": {
                                                                "address": {
                                                                    "door": "BB1703",
                                                                    "name": "Salarpuria Greenage",
                                                                    "building": "Birch B Block",
                                                                    "street": "Hosur Road",
                                                                    "locality": "HSR Layout",
                                                                    "ward": "",
                                                                    "city": "Bengaluru",
                                                                    "state": "Karnataka",
                                                                    "country": "India",
                                                                    "area_code": "560068"
                                                                },
                                                                "gps": {
                                                                    "lat": "22.987987",
                                                                    "lon": "77.232323"
                                                                }
                                                            },
                                                            "instructions": [
                                                                "Please don't ring doorbell",
                                                                "Leave package at door"
                                                            ],
                                                            "poc": {
                                                                "name": {
                                                                    "given_name": "Bob"
                                                                },
                                                                "contact": {
                                                                    "mobile": {
                                                                        "country_code": "+91",
                                                                        "number": "9786756453"
                                                                    }
                                                                }
                                                            }
                                                        },
                                                        "package": {
                                                            "contents": [
                                                                {
                                                                    "category_id": "12",
                                                                    "descriptor": {
                                                                        "name": "Soap"
                                                                    }
                                                                },
                                                                {
                                                                    "category_id": "10",
                                                                    "descriptor": {
                                                                        "name": "Potato"
                                                                    }
                                                                }
                                                            ],
                                                            "weight": {
                                                                "estimated_value": "1",
                                                                "unit": "kg"
                                                            }
                                                        },
                                                        "state": {
                                                            "descriptor" : {
                                                                "code" : "ASSIGNED-AGENT"
                                                            }
                                                        },
                                                        "agent": {
                                                            "name": {
                                                                "given_name": "John Doe"
                                                            },
                                                            "phones": [
                                                                "+919667288826"
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "payment": {
                                                    "payee": {
                                                        "person": {
                                                            "name": {
                                                                "given_name": "John Doe"
                                                            }
                                                        },
                                                        "endpoint": {
                                                            "type": "bank_account",
                                                            "bank_account": {
                                                                "account_number": "10818675234",
                                                                "account_holder_name": "John Doe",
                                                                "ifsc_code": "SBIN000414"
                                                            }
                                                        }
                                                    },
                                                    "state": {
                                                        "descriptor" : {
                                                            "code" : "PAID"
                                                        }
                                                    },
                                                    "amount": {
                                                        "currency": "INR",
                                                        "value": {
                                                            "integral": "28"
                                                        }
                                                    },
                                                    "terms": {
                                                        "credit_type": "POSTPAID",
                                                        "settlement_type": "BULK",
                                                        "credit_duration": "30D",
                                                        "mode": "RTGS",
                                                        "method": "ELECTRONIC",
                                                        "penalty_terms": [
                                                            "Delay in payment after due date will incur 10 INR per day of non-payment"
                                                        ]
                                                    }
                                                },
                                                "created_at": "2020-07-16 17:30:00",
                                                "updated_at": "2020-07-16 17:30:00"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/on_status": {
            "post": {
                "tags": [
                    "Beckn App Platform API"
                ],
                "description": "Fetch the status of a Service",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "properties": {
                                            "order": {
                                                "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/7260a898c137945c6248ed27bfe86c373b147951/final-mile-delivery/v0/schema/fmd_order.json"
                                            }
                                        }
                                    },
                                    "error": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/on_track": {
            "post": {
                "tags": [
                    "Beckn App Platform API"
                ],
                "description": "Provide tracking info",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "description": "BPP returns tracking information. For websocket based tracking data please refer to the tracking data object in core",
                                        "properties": {
                                            "tracking": {
                                                "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/tracking.json"
                                            }
                                        }
                                    },
                                    "error": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                    }
                                }
                            },
                            "examples": {
                                "Tracking Details for Pull type tracking": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "on_track",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "tracking": {
                                                "method": "pull",
                                                "order": {
                                                    "id": "136551c9-d543-4373-a900-1a56390f6803"
                                                },
                                                "state": {
                                                    "descriptor": {
                                                        "name": "active"
                                                    }
                                                },
                                                "pull": {
                                                    "url": "https://api.example.com/order/136551c9-d543-4373-a900-1a56390f6803/track"
                                                }
                                            }
                                        }
                                    }
                                },
                                "Tracking Details for Push type tracking": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "on_track",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "tracking": {
                                                "method": "push",
                                                "order": {
                                                    "id": "136551c9-d543-4373-a900-1a56390f6803"
                                                },
                                                "state": {
                                                    "descriptor": {
                                                        "code": "ACTIVE"
                                                    }
                                                },
                                                "push": {
                                                    "url": "ws://bpp.example.com/order/136551c9-d543-4373-a900-1a56390f6803/track:5000"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/on_cancel": {
            "post": {
                "tags": [
                    "Beckn App Platform API"
                ],
                "description": "Response to cancel service",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "properties": {
                                            "order": {
                                                "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/7260a898c137945c6248ed27bfe86c373b147951/final-mile-delivery/v0/schema/fmd_order.json"
                                            }
                                        }
                                    },
                                    "error": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                    }
                                }
                            },
                            "examples": {
                                "Cancellation Order with List of reasons": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "on_cancel",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "order": {
                                                "id": "7d770f4a-a93e-4860-9ae6-d197cd0d298e",
                                                "state": {
                                                    "descriptor": {
                                                        "name": "CANCELLED"
                                                    }
                                                },
                                                "cancellation_reason_id" : "0481",
                                                "tasks": [
                                                    {
                                                        "id": "98298323-203982-02309",
                                                        "item_id": "1234-5678-12-34-56",
                                                        "pickup": {
                                                            "location": {
                                                                "address": {
                                                                    "door": "2244",
                                                                    "name": "Croma",
                                                                    "building": "string",
                                                                    "street": "5th Main",
                                                                    "locality": "HSR Layout",
                                                                    "ward": "",
                                                                    "city": "Bengaluru",
                                                                    "state": "Karnataka",
                                                                    "country": "India",
                                                                    "area_code": "560102"
                                                                },
                                                                "gps": {
                                                                    "lat": "22.987987",
                                                                    "lon": "77.232323"
                                                                }
                                                            },
                                                            "instructions": [
                                                                "Please handle with care"
                                                            ],
                                                            "poc": {
                                                                "name": {
                                                                    "given_name": "John"
                                                                },
                                                                "contact": {
                                                                    "mobile": {
                                                                        "country_code": "+91",
                                                                        "number": "9876543210"
                                                                    }
                                                                }
                                                            }
                                                        },
                                                        "drop": {
                                                            "location": {
                                                                "address": {
                                                                    "door": "BB1703",
                                                                    "name": "Salarpuria Greenage",
                                                                    "building": "Birch B Block",
                                                                    "street": "Hosur Road",
                                                                    "locality": "HSR Layout",
                                                                    "ward": "",
                                                                    "city": "Bengaluru",
                                                                    "state": "Karnataka",
                                                                    "country": "India",
                                                                    "area_code": "560068"
                                                                },
                                                                "gps": {
                                                                    "lat": "22.987987",
                                                                    "lon": "77.232323"
                                                                }
                                                            },
                                                            "instructions": [
                                                                "Please don't ring doorbell",
                                                                "Leave package at door"
                                                            ],
                                                            "poc": {
                                                                "name": {
                                                                    "given_name": "Bob"
                                                                },
                                                                "contact": {
                                                                    "mobile": {
                                                                        "country_code": "+91",
                                                                        "number": "9786756453"
                                                                    }
                                                                }
                                                            }
                                                        },
                                                        "package": {
                                                            "contents": [
                                                                {
                                                                    "category_id": "12",
                                                                    "descriptor": {
                                                                        "name": "Soap"
                                                                    }
                                                                },
                                                                {
                                                                    "category_id": "10",
                                                                    "descriptor": {
                                                                        "name": "Potato"
                                                                    }
                                                                }
                                                            ],
                                                            "weight": {
                                                                "estimated_value": "1",
                                                                "unit": "kg"
                                                            }
                                                        },
                                                        "state": "ASSIGNED-AGENT",
                                                        "agent": {
                                                            "name": {
                                                                "given_name": "John Doe"
                                                            },
                                                            "phones": [
                                                                "+919667288826"
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "payment": {
                                                    "payee": {
                                                        "person": {
                                                            "name": {
                                                                "given_name": "John Doe"
                                                            }
                                                        },
                                                        "endpoint": {
                                                            "type": "bank_account",
                                                            "bank_account": {
                                                                "account_number": "10818675234",
                                                                "account_holder_name": "John Doe",
                                                                "ifsc_code": "SBIN000414"
                                                            }
                                                        }
                                                    },
                                                    "amount": {
                                                        "currency": "INR",
                                                        "value": {
                                                            "integral": "28"
                                                        }
                                                    },
                                                    "terms": {
                                                        "credit_type": "POSTPAID",
                                                        "settlement_type": "BULK",
                                                        "credit_duration": "30D",
                                                        "mode": "RTGS",
                                                        "method": "ELECTRONIC",
                                                        "penalty_terms": [
                                                            "Delay in payment after due date will incur 10 INR per day of non-payment"
                                                        ]
                                                    }
                                                },
                                                "billing": {
                                                    "customer": {
                                                        "name": {
                                                            "given_name": "Max Planck",
                                                            "email": "max.planck@example.com"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "Confirmed Cancellation Order with Refund Details": {
                                    "value": {
                                        "context": {
                                            "domain": "FINAL-MILE-DELIVERY",
                                            "country": "IND",
                                            "city": "BLR",
                                            "action": "on_cancel",
                                            "core_version": "0.8.0",
                                            "domain_version": "0.8.1",
                                            "ac_id": "96aff157-c4e3-47b8-9223-a57acb9d80ff",
                                            "transaction_id": "16e9bc5a-d25e-4379-95e4-262633f8e7f4",
                                            "message_id": "faf84d91-0481-467a-86c8-8aca16cdf08b",
                                            "timestamp": "2020-08-19 14:54:19+05:30"
                                        },
                                        "message": {
                                            "order": {
                                                "id": "7d770f4a-a93e-4860-9ae6-d197cd0d298e",
                                                "state": {
                                                    "descriptor": {
                                                        "name": "CANCELLED"
                                                    }
                                                },
                                                "cancellation_reason_id" : "0481",
                                                "tasks": [
                                                    {
                                                        "id": "98298323-203982-02309",
                                                        "item_id": "1234-5678-12-34-56",
                                                        "pickup": {
                                                            "location": {
                                                                "address": {
                                                                    "door": "2244",
                                                                    "name": "Croma",
                                                                    "building": "string",
                                                                    "street": "5th Main",
                                                                    "locality": "HSR Layout",
                                                                    "ward": "",
                                                                    "city": "Bengaluru",
                                                                    "state": "Karnataka",
                                                                    "country": "India",
                                                                    "area_code": "560102"
                                                                },
                                                                "gps": {
                                                                    "lat": "22.987987",
                                                                    "lon": "77.232323"
                                                                }
                                                            },
                                                            "instructions": [
                                                                "Please handle with care"
                                                            ],
                                                            "poc": {
                                                                "name": {
                                                                    "given_name": "John"
                                                                },
                                                                "contact": {
                                                                    "mobile": {
                                                                        "country_code": "+91",
                                                                        "number": "9876543210"
                                                                    }
                                                                }
                                                            }
                                                        },
                                                        "drop": {
                                                            "location": {
                                                                "address": {
                                                                    "door": "BB1703",
                                                                    "name": "Salarpuria Greenage",
                                                                    "building": "Birch B Block",
                                                                    "street": "Hosur Road",
                                                                    "locality": "HSR Layout",
                                                                    "ward": "",
                                                                    "city": "Bengaluru",
                                                                    "state": "Karnataka",
                                                                    "country": "India",
                                                                    "area_code": "560068"
                                                                },
                                                                "gps": {
                                                                    "lat": "22.987987",
                                                                    "lon": "77.232323"
                                                                }
                                                            },
                                                            "instructions": [
                                                                "Please don't ring doorbell",
                                                                "Leave package at door"
                                                            ],
                                                            "poc": {
                                                                "name": {
                                                                    "given_name": "Bob"
                                                                },
                                                                "contact": {
                                                                    "mobile": {
                                                                        "country_code": "+91",
                                                                        "number": "9786756453"
                                                                    }
                                                                }
                                                            }
                                                        },
                                                        "package": {
                                                            "contents": [
                                                                {
                                                                    "category_id": "12",
                                                                    "descriptor": {
                                                                        "name": "Soap"
                                                                    }
                                                                },
                                                                {
                                                                    "category_id": "10",
                                                                    "descriptor": {
                                                                        "name": "Potato"
                                                                    }
                                                                }
                                                            ],
                                                            "weight": {
                                                                "estimated_value": "1",
                                                                "unit": "kg"
                                                            }
                                                        },
                                                        "state": "ASSIGNED-AGENT",
                                                        "agent": {
                                                            "name": {
                                                                "given_name": "John Doe"
                                                            },
                                                            "phones": [
                                                                "+919667288826"
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "payment": {
                                                    "payee": {
                                                        "person": {
                                                            "name": {
                                                                "given_name": "John Doe"
                                                            }
                                                        },
                                                        "endpoint": {
                                                            "type": "bank_account",
                                                            "bank_account": {
                                                                "account_number": "10818675234",
                                                                "account_holder_name": "John Doe",
                                                                "ifsc_code": "SBIN000414"
                                                            }
                                                        }
                                                    },
                                                    "state": "REFUND-INITIATED",
                                                    "amount": {
                                                        "currency": "INR",
                                                        "value": {
                                                            "integral": "28"
                                                        }
                                                    }
                                                },
                                                "billing": {
                                                    "customer": {
                                                        "name": {
                                                            "given_name": "Max Planck",
                                                            "email": "max.planck@example.com"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/on_update": {
            "post": {
                "tags": [
                    "Beckn App Platform API"
                ],
                "description": "Returns updated service with updated runtime object",
                "requestBody": {
                    "description": "TODO",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "context": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                    },
                                    "message": {
                                        "type": "object",
                                        "properties": {
                                            "order": {
                                                "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/7260a898c137945c6248ed27bfe86c373b147951/final-mile-delivery/v0/schema/fmd_order.json"
                                            }
                                        }
                                    },
                                    "error": {
                                        "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Acknowledgement of message received",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "context": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/context.json"
                                        },
                                        "message": {
                                            "type": "object",
                                            "properties": {
                                                "ack": {
                                                    "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/ack.json"
                                                }
                                            }
                                        },
                                        "error": {
                                            "$ref": "https://raw.githubusercontent.com/beckn/protocol-specifications/2dcec8f395633148f8c91c46a9ca0a3e14bd6870/core/v0/schema/error.json"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT"
            }
        }
    },
    "servers": [
        {
            "description": "SwaggerHub API Auto Mocking",
            "url": "https://virtserver.swaggerhub.com/beckn/final-mile-delivery/0.8.1"
        }
    ]
}
